<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Old Bailey Stats Chart</title>

    <!-- Chart.js (CDN) -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
  body { font-family: system-ui, Arial; margin: 24px; }
  .row { display: flex; gap: 12px; flex-wrap: wrap; margin-bottom: 12px; }
  label { display: flex; flex-direction: column; gap: 6px; font-size: 14px; }
  input, select { padding: 8px; font-size: 14px; }
  canvas { max-width: 100%; }
  #chart-wrap { width: 100%; max-width: 1100px; height: 320px; }
  #crimeChart { width: 100% !important; height: 100% !important; display: block; }
</style>

    
    
 


<!-- Leaflet -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
<script defer src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<!-- MarkerCluster -->
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css">
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css">
<script defer src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>

<!-- Your app (MUST be after the plugin) -->
<script defer src="/app.js"></script>

  </head>
  <body>
    <h1>Robbery trend (guilty rate %)</h1>

    <div class="row">
      <label>
        From
        <input id="from" type="date" value="1740-01-01" />
      </label>

      <label>
        To
        <input id="to" type="date" value="1800-12-31" />
      </label>

      <label>
        Bucket
        <select id="bucket">
          <option value="year" selected>year</option>
          <option value="decade">decade</option>
        </select>
      </label>

      <label>
        Group
        <input id="group" type="text" value="Robbery" />
      </label>

      <button id="reload" style="padding: 10px 14px; font-size: 14px;">
        Reload
      </button>
    </div>
    <label style="display:inline-flex;align-items:center;gap:.5rem;">
     <input type="checkbox" id="toggle-ci" checked />
     Show confidence intervals
    </label>
     
    <label style="display:inline-flex;align-items:center;gap:.5rem;margin-left:1rem;">
      Confidence:
      <select id="confidence">
        <option value="1.645">90%</option>
        <option value="1.96" selected>95%</option>
        <option value="2.576">99%</option>
      </select>
    </label>
    
    <div id="chart-wrap">
      <canvas id="crimeChart"></canvas>
    </div>  

    <hr style="margin:24px 0;" />

    <h2>Nearby historic crimes</h2>

    <div style="display:flex; gap:12px; flex-wrap:wrap; align-items:center;">
      <button id="use-gps" style="padding:10px 14px; font-size:14px;">
        Use my location
      </button>

      <label style="display:inline-flex;align-items:center;gap:.5rem;">
        Radius (m):
        <input id="radius" type="number" value="2000" min="50" max="20000" step="50" />
      </label>

      <label style="display:inline-flex;align-items:center;gap:.5rem;">
        Limit:
        <input id="nearby-limit" type="number" value="5" min="1" max="50" step="1" />
      </label>

      <button id="nearby" style="padding:10px 14px; font-size:14px;">
        Find nearby
      </button>
    </div>

    <div id="map" style="height: 420px; margin-top: 12px; border-radius: 12px; overflow: hidden;"></div>

    <div id="nearby-results" style="margin-top:12px;"></div>

  </body>
</html>

